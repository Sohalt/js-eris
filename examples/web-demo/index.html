<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Encoding for Robust Immutable Storage</title>
    <link rel="stylesheet" href="style.css">
    <script src="index.js"></script>
  </head>
  <body>
    <h1>Encoding for Robust Immutable Storage (ERIS)</h1>
    <div>

      <div id="notes">
        <p>This is a demo of ERIS - An Encoding for Robust Immutable Storage.</p>

        <p>ERIS encodes any content into uniformly sized (4kB) encrypted blocks. The original content can only be decoded with the read capability (an URN which contains the encryption key). </p>

      </div>

      <main>
        <div id="input">
          <h2>Input</h2>

          <p>Enter some text and click Encode to get the URN that uniquely identifies the text.</p>

          <textarea id="input-textarea"></textarea>

          <br> <br>

          <details>

            <summary>Sample Data</summary>

            <br>

            <button id="input-load-alice-in-wonderland">
              Load Alice in Wonderland
            </button>

            <h3>RDF</h3>
            <p>RDF data is normalized before it is encoded. This means that the same content always gets the same identifier (URN).</p><p>Load some sample RDF data, encode it and then decode it to see how the normalized form looks (it's not pretty).</p>

            <button id="input-load-sample-vocabulary">
              Load sample vocabulary
            </button>

            <button id="input-load-sample-actor">
              Load sample ActivityPub Actor (JSON-LD)
            </button>
          </details>

        </div>

        <div id="controls">
          <button id="controls-encode">Encode →</button>
          <details>
            <summary>input format</summary>
            <select id="controls-input-type" name="input-type" selected="plain-text">
              <option value="text/plain">plain text</option>
              <option value="text/turtle">RDF Turtle</option>
              <option value="application/ld+json">JSON-LD</option>
            </select>
          </details>
          <br>
          <button id="controls-decode">← Decode</button>
          <br>
          <br>
          <button id="controls-verify">Verify</button>

          <br>
          <pre id="controls-error"></pre>
          <pre id="controls-success"></pre>
        </div>

        <div id="encoded">
          <h2>Encoded</h2>

          <h3>Read capability</h3>
          <p>The read capability allows content to be read</p>
          <input id="encoded-eris-read-cap" type="url"></input>

          <h3>Verification capability</h3>
          <p>The verification capability allows all blocks to be verified for integrity, but does not allow the content to be read</p>
          <input id="encoded-eris-verification-cap" type="url"></input>

          <div id="blocks">
            <h3>Blocks</h3>
            <div id="block-container">
            </div>
          </div>

        </div>

        <div class="break">
        </div>


      </main>

      <h2>About</h2>


      <p>For more information on how ERIS works see TODO.</p>

      <p>There are two tricks used to encode RDF see TODO for more information.</p>

      <p>This demo and the JavaScript (and Guile) implementations are free software. See the <a href="https://gitlab.com/openengiadina/js-eris">Git repository</a>.

      <p>ERIS is developed as part of the <a href="https://openengiadina.net/">openEngiadina</a> project.</p>

    </div>

  </body>
</html>
